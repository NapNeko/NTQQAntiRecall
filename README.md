# 基于NTQQ实现的防撤回

> 原理可见 [ntrecall](https://napneko.github.io/other/ntrecall)

## 📋 适配版本

| QQ 版本 | 构建号 | 测试状态 | 撤回提示 |
|---------|--------|----------|----------|
| 9.9.19 | 35469 | ✅ 已测试 | ❌ 无提示 |
| 9.9.19 | 35341 | ✅ 已测试 | ❌ 无提示 |
| 9.9.19 | 35184 | ✅ 已测试 | ❌ 无提示 |
| 9.9.19 | 34740 | ✅ 已测试 | ❌ 无提示 |
| 9.9.19 | 35951 | ✅ 已测试 | ✅ 带提示 |

![QQ_1750319148501](https://github.com/user-attachments/assets/aa9c1398-a193-4286-8704-51a7cbfb4566)

## 🚀 使用指南

### 安装要求
- Windows 操作系统
- 已安装对应版本的 QQ 客户端

### 安装步骤

#### 步骤 1：下载文件
前往 [Releases](../../releases) 页面下载最新版本的压缩包

#### 步骤 2：解压安装
1. 解压下载的压缩包
2. 将解压出的 **两个文件** 复制到 QQ 安装目录
   - 默认路径通常为：`C:\Program Files\Tencent\QQ\` 
   - 或在 QQ 快捷方式上右键 → 属性 → 打开文件所在位置

#### 步骤 3：创建快捷方式
为 `NapCatBootMain.exe` 创建桌面快捷方式：
1. 右键点击 `NapCatBootMain.exe`
2. 选择 "发送到" → "桌面快捷方式"

#### 步骤 4：启动程序
1. 双击桌面上的快捷方式
2. 等待程序加载完成
3. 关闭弹出的黑色控制台窗口

### 使用说明
- 启动成功后，程序会自动注入防撤回功能
- 正常使用 QQ，防撤回功能已在后台生效
- 无需额外操作，所有群聊撤回消息都会被拦截

## ✨ 功能特性

### 优点
- 🔄 **持久化拦截**：无消息数量约束，持续有效
- 📁 **资源保护**：图片/文件下载不会在撤回后失败  
- 🛡️ **低风控风险**：检测特征极少，启动后进程分离并取消DLL注入
- 🎯 **无干扰使用**：不影响正常 QQ 功能

### 局限性
- 🔧 **版本兼容性**：仅支持特定版本，适配版本较少
- ⚠️ **稳定性**：可能出现程序崩溃情况
- 🔍 **检测风险**：虽然触发较少，但仍存在检测可能性
- 👥 **功能范围**：目前仅实现群聊防撤回功能

## ⚠️ 注意事项

- 本工具仅供学习交流使用
- 使用前请确保 QQ 版本匹配
- 建议在使用前备份重要聊天记录
- 如遇到问题请及时反馈

## 💬 技术说明

代码为了快速迭代与方便，写法较为抽象

此应用衍生自 NapCatQQ 周边设施

## 🔗 交流群

有问题或建议欢迎加入交流群：[NapCat #1](https://qm.qq.com/q/bo2K5fcmjY)

---

<p align="center">
  <sub>⭐ 如果这个项目对你有帮助，请给个星标支持一下！</sub>
</p>